# Use our runtime-generated upstream file
resolv-file=/etc/dnsmasq.upstream.conf

# Listen only on the container loopback
listen-address=127.0.0.1
bind-dynamic

# DNS port
port=53

# Caching
cache-size=1000
neg-ttl=60
# Optional: enforce a minimum TTL to smooth bursts (comment out if not needed)
# min-cache-ttl=30

# DNSSEC
domain-needed

# Bogus private domains (RFC 1918)
bogus-priv

# Optional: local overrides
# addn-hosts=/etc/dnsmasq.d/hosts.conf

# Log (stderr so you can see it in task logs)
#log-queries
log-facility=-

# Prevent DNS rebinding attacks
#stop-dns-rebind
#rebind-localhost-ok

# Disable DHCP on all interfaces
no-dhcp-interface=*
